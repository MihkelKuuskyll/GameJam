(this.webpackJsonpgamejam=this.webpackJsonpgamejam||[]).push([[0],{137:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(46),c=n.n(i),m=(n(53),n(54),n(2));n(55),n(56);function p(e){var t=e.cell,n=e.size;return r.a.createElement("div",{className:"cell ".concat(t.type),style:{left:"".concat(n*t.x+1,"px"),top:"".concat(n*t.y+1,"px"),width:"".concat(n-1,"px"),height:"".concat(n-1,"px")}})}var o,u=n(14),y=n.n(u);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(a.useRef)();r.current=e,Object(a.useEffect)((function(){if(t){var e=setInterval((function(){return r.current()}),t);return function(){e&&clearInterval(e)}}}),n)}function l(e,t,n,a){var r=[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1]];return e.forEach((function(e){r.forEach((function(r){var i=e.y+r[0],c=e.x+r[1];c>=0&&c<n&&i>=0&&i<a&&t[i][c]===o.virus&&(t=function(e,t,n,a){var r=!1;[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1]].forEach((function(i){var c=e.y+i[0],m=e.x+i[1];m>=0&&m<n&&c>=0&&c<a&&[o.superSpreader,o.virus].includes(t[c][m])&&(r=!0,t[c][m]=o.empty)})),r&&(t[e.y][e.x]=o.empty);return t}(e,t,n,a))}))})),t}function f(e,t,n,a){var r=[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1]];return e.forEach((function(e){r.forEach((function(r){var i=e.y+r[0],c=e.x+r[1];c>=0&&c<n&&i>=0&&i<a&&t[i][c]===o.virus&&(t=function(e,t,n,a){return[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1]].forEach((function(r){var i=e.y+r[0],c=e.x+r[1];c>=0&&c<n&&i>=0&&i<a&&t[i][c]===o.empty&&(t[i][c]=o.virus)})),t[e.y][e.x]=o.virus,t}(e,t,n,a))}))})),t}function v(e,t,n,a,r){for(var i=0,c=[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1]],m=0;m<c.length;m+=1){var p=c[m],u=n+p[0],y=t+p[1];y>=0&&y<a&&u>=0&&u<r&&![o.empty,o.antibody].includes(e[u][y])&&(i+=1)}return i}!function(e){e.antibody="antibody",e.deadMatter="deadMatter",e.empty="empty",e.virus="virus",e.superSpreader="superSpreader"}(o||(o={}));var d={cellSize:20,height:60,width:60,maxClicks:3,map:[[o.empty,o.empty,o.empty],[o.empty,o.virus,o.virus],[o.empty,o.virus,o.virus]]},h={cellSize:20,height:60,width:60,maxClicks:3,map:[[o.virus,o.empty,o.empty],[o.empty,o.virus,o.empty],[o.virus,o.empty,o.virus]]},b={cellSize:20,height:60,width:60,maxClicks:3,map:[[o.virus,o.empty,o.empty],[o.empty,o.virus,o.empty],[o.virus,o.empty,o.virus]]},x={cellSize:20,height:60,width:60,maxClicks:3,map:[[o.empty,o.empty,o.empty],[o.deadMatter,o.empty,o.empty],[o.empty,o.empty,o.virus]]},g={cellSize:20,height:60,width:60,maxClicks:3,map:[[o.virus,o.empty,o.deadMatter],[o.deadMatter,o.deadMatter,o.empty],[o.empty,o.empty,o.empty]]},E={cellSize:20,height:100,width:100,maxClicks:5,map:[[o.empty,o.empty,o.empty,o.empty,o.empty],[o.empty,o.empty,o.empty,o.empty,o.empty],[o.empty,o.empty,o.empty,o.empty,o.empty],[o.empty,o.empty,o.empty,o.empty,o.empty],[o.empty,o.empty,o.empty,o.empty,o.empty]]},S={cellSize:20,height:100,width:100,maxClicks:5,map:[[o.antibody,o.empty,o.virus,o.empty,o.empty],[o.empty,o.antibody,o.virus,o.empty,o.empty],[o.empty,o.empty,o.antibody,o.empty,o.empty],[o.empty,o.empty,o.empty,o.antibody,o.empty],[o.empty,o.empty,o.empty,o.empty,o.empty]]},w={cellSize:20,height:100,width:100,maxClicks:5,map:[[o.superSpreader,o.virus,o.virus,o.empty,o.empty],[o.empty,o.empty,o.virus,o.empty,o.empty],[o.empty,o.empty,o.empty,o.empty,o.empty],[o.empty,o.empty,o.empty,o.empty,o.empty],[o.empty,o.empty,o.empty,o.empty,o.empty]]};var k=n(47),O=n.n(k);function j(){var e,t={1:d,2:h,3:b,4:x,5:g,6:E,7:S,8:w}[8],n=t.height,i=t.width,c=t.cellSize,u=t.map,k=t.maxClicks,j=n/c,C=i/c,M=Object(a.useState)(u),z=Object(m.a)(M,2),N=z[0],R=z[1],B=Object(a.useState)([]),I=Object(m.a)(B,2),A=I[0],G=I[1],J=Object(a.useState)(500),W=Object(m.a)(J,2),X=W[0],Y=(W[1],Object(a.useState)(!1)),L=Object(m.a)(Y,2),T=L[0],$=L[1],q=Object(a.useState)(""),D=Object(m.a)(q,2),F=D[0],H=D[1],K=Object(a.useState)(0),P=Object(m.a)(K,2),Q=P[0],U=P[1],V=Object(a.useState)(0),Z=Object(m.a)(V,2),_=Z[0],ee=Z[1];return Object(a.useEffect)((function(){G(function(){for(var e=[],t=0;t<j;t+=1)for(var n=0;n<C;n+=1)if(N[t][n]!==o.empty){var a=N[t][n]===u[t][n];e.push({x:n,y:t,type:N[t][n],isOriginal:a})}return e}())}),[N]),s((function(){T&&function(){var e=function(){for(var e=y()(N),t=[],n=[],a=0;a<j;a+=1)for(var r=0;r<C;r+=1){var i=v(N,r,a,C,j),c=N[a][r]===o.virus&&(i<2||i>3),m=N[a][r]===o.empty&&3===i;c?e[a][r]=o.empty:m?e[a][r]=o.virus:N[a][r]===o.antibody?t.push({x:r,y:a}):N[a][r]===o.superSpreader&&n.push({x:r,y:a})}return e=f(n,e,C,j),e=l(t,e,C,j)}();!function(e,t){for(var n=!1,a=0;a<j;a+=1)for(var r=0;r<C;r+=1)if(e[a][r]!==t[a][r]){n=!0;break}return n}(N,e)?($(!1),H("GG no re, it took ".concat(_," iterations."))):R(e);ee(_+1)}()}),X,[T]),r.a.createElement("div",null,r.a.createElement("div",{className:"CellsRemaining"},r.a.createElement("p",null,"Cells remaining: ",k-Q)),r.a.createElement("div",{className:"Board",style:{width:i,height:n,backgroundSize:"".concat(c,"px ").concat(c,"px")},onClick:function(t){var n=t.clientX,a=t.clientY;if(!T){H("");var r=function(t,n){var a=function(){var t,n=null===(t=e)||void 0===t?void 0:t.getBoundingClientRect(),a=document.documentElement;return{x:n.left+window.pageXOffset-a.clientLeft,y:n.top+window.pageYOffset-a.clientTop}}(),r=t-a.x,i=n-a.y;return{x:Math.floor(r/c),y:Math.floor(i/c)}}(n,a),i=r.x,m=r.y;if(i>=0&&i<=C&&m>=0&&m<=j){var p=A.find((function(e){return e.x===i&&e.y===m}));if(!(null===p||void 0===p?void 0:p.isOriginal)){var u=y()(N);if(u[m][i]=u[m][i]!==o.empty?o.empty:Math.random()>.5?o.virus:Math.random()>.5?o.deadMatter:Math.random()>.5?o.superSpreader:o.antibody,u[m][i]===o.empty)U(Q-1);else{if(!(Q<k))return;U(Q+1)}R(u)}}}},ref:function(t){e=t}},A.map((function(e){return r.a.createElement(p,{cell:e,size:c,key:"".concat(e.x,"-").concat(e.y)})}))),r.a.createElement("div",{className:"Controls"},T?r.a.createElement("button",{className:"button",onClick:function(){$(!1)}},"Stop"):r.a.createElement("button",{className:"button",onClick:function(){$(!0),ee(0)}},"Run"),r.a.createElement("button",{className:"button",onClick:function(){H("");for(var e=y()(u),t=[],n=0;n<j;n+=1)for(var a=0;a<C;a+=1)e[n][a]===o.empty&&t.push({x:a,y:n});O()(t,k).forEach((function(t){e[t.y][t.x]=o.virus})),R(e),U(k)}},"Random"),r.a.createElement("button",{className:"button",onClick:function(){H(""),R(u),ee(0),U(0)}},"Clear")),r.a.createElement("div",{className:"Message"},F))}var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(j,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,t,n){e.exports=n(137)},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){}},[[48,1,2]]]);
//# sourceMappingURL=main.926a2b8d.chunk.js.map